{% extends theme("admin/base.html") %}
{% from theme("admin/_paginationhelpers.html") import render_pagination %}

{% block title %}
{{model_name}}
{% endblock %}


{% block main %}

<h1>{{model_name}}</h1>

<br />

{% if clsnames %}
<div id="sidebar">
  <div class="box">
    <h2>Related types'</h2>
    <table>
      {% for clsname in clsnames %}
	<tr><td><a href="/SWMIS/Admin/{{clsname}}/?page=1">{{clsname}}</a></td></tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endif %}

  <h2>Existing {{ model_name }} objects</h2>
  <ul>
    <li>{{ model_name }}</li>
    {% for model_instance in model_instances  %}
      <li>{{ model_instance }}
        {% set model_pk = _get_pk_value(model_instance) %}
        <a href="{{ url_for('generic_model_edit', model_name=model_name, model_key=model_pk) }}" title="edit" class="icon edit"/>
        <div class="ui-state-default ui-corner-all" title=".ui-icon-trash"><span class="ui-icon ui-icon-trash"></span></div>
        <!-- <a href="{{ url_for('generic_model_delete', model_name=model_name, model_key=model_pk) }}" title="delete" class="icon delete"/></td> -->
      </li>
    {% endfor %}
  </ul>
  <a class="icon add" title="New object" href="{{ url_for('generic_model_add', model_name=model_name) }}">New object</a>
  <div id="pager">{{ render_pagination(pagination, 'generic_model_list', model_name=model_name) }}</div>
{% endblock %}
